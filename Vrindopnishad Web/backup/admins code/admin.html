<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4361EE">
    <meta name="description" content="Admin panel for Vrindopnishad website">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <title>Vrindopnishad Admin</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <style>
        /* Critical styles to ensure proper display */
        .hidden {
            display: none !important;
        }
        
        .btn-primary {
            background-color: #4361EE;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .btn-primary:hover {
            background-color: #3A56D4;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .btn-danger {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        /* Fix for file inputs */
        input[type="file"] {
            padding: 0.5rem 0;
            width: 100%;
        }
        
        /* Fix for textarea */
        textarea {
            width: 100%;
            min-height: 100px;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
        }
        
        /* Fix for select */
        select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            background-color: white;
        }
    </style>
</head>
<body>
    <!-- Network Status -->
    <div id="networkStatus" class="network-status">
        <div id="onlineStatus" class="online">
            <i class="fas fa-wifi"></i> Online
        </div>
        <div id="offlineStatus" class="offline hidden">
            <i class="fas fa-exclamation-triangle"></i> Offline - Limited functionality
        </div>
    </div>

    <!-- Login Section -->
    <section id="loginSection" class="login-section">
        <div class="login-container">
            <div class="login-header">
                <h1>Vrindopnishad Admin</h1>
                <p>Please login to continue</p>
            </div>
            
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                
                <div id="loginError" class="error-message"></div>
                
                <div class="form-group">
                    <button type="submit" class="btn-primary">Login</button>
                </div>
            </form>
            
            <!-- Login Help -->
            <div class="login-help">
                <h3>Test Credentials</h3>
                <p>Email: admin@vrindopnishad.com</p>
                <p>Password: admin123</p>
            </div>
        </div>
    </section>

    <!-- Admin Section -->
    <section id="adminSection" class="admin-section hidden">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="user-info">
                <span>Welcome, <span id="userName">Admin</span></span>
            </div>
            
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search...">
                <i class="fas fa-search"></i>
            </div>
            
            <div class="user-actions">
                <div class="dropdown">
                    <button class="btn-secondary">
                        <i class="fas fa-user-circle"></i> Account <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="#" class="dropdown-item" id="settingsBtn">
                            <i class="fas fa-cog"></i> Settings
                        </a>
                        <a href="#" class="dropdown-item" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <h2>Admin Panel</h2>
                </div>
                
                <nav>
                    <a href="#" data-page="gallery" class="active">
                        <i class="fas fa-images"></i> Gallery
                    </a>
                    <a href="#" data-page="books">
                        <i class="fas fa-book"></i> Books
                    </a>
                    <a href="#" data-page="collections">
                        <i class="fas fa-layer-group"></i> Collections
                    </a>
                    <a href="#" data-page="pdfs">
                        <i class="fas fa-file-pdf"></i> PDFs
                    </a>
                    <a href="#" data-page="users">
                        <i class="fas fa-users"></i> Users
                    </a>
                </nav>
            </div>
            
            <!-- Content Area -->
            <div class="content-area">
                <div class="content-header">
                    <h2 id="pageTitle">Gallery Management</h2>
                    <button id="addNewBtn" class="btn-primary">
                        <i class="fas fa-plus"></i> Add New
                    </button>
                </div>
                
                <!-- Batch Actions -->
                <div class="batch-actions hidden" id="batchActions">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="selectAll" class="select-all">
                        <label for="selectAll">Select All</label>
                    </div>
                    
                    <select id="batchActionSelect">
                        <option value="">Bulk Actions</option>
                        <option value="delete">Delete</option>
                        <option value="publish">Publish</option>
                        <option value="unpublish">Unpublish</option>
                    </select>
                    
                    <button id="applyBatchAction" class="btn-secondary">Apply</button>
                    
                    <span id="selectedCount" class="selected-count">0 items selected</span>
                </div>
                
                <!-- Tabs for Different Views -->
                <div class="tabs" id="viewTabs">
                    <div class="tab active" data-view="grid"><i class="fas fa-th"></i> Grid</div>
                    <div class="tab" data-view="list"><i class="fas fa-list"></i> List</div>
                </div>
                
                <!-- Content Sections -->
                <div id="galleryContent" class="content-section active">
                    <div id="galleryGrid" class="grid"></div>
                    <div id="galleryList" class="list hidden"></div>
                </div>
                
                <div id="booksContent" class="content-section">
                    <div id="booksGrid" class="grid"></div>
                    <div id="booksList" class="list hidden"></div>
                </div>
                
                <div id="collectionsContent" class="content-section">
                    <div id="collectionsGrid" class="grid"></div>
                    <div id="collectionsList" class="list hidden"></div>
                </div>
                
                <div id="pdfsContent" class="content-section">
                    <div id="pdfsGrid" class="grid"></div>
                    <div id="pdfsList" class="list hidden"></div>
                </div>
                
                <div id="usersContent" class="content-section">
                    <div id="usersGrid" class="grid"></div>
                    <div id="usersList" class="list hidden"></div>
                </div>
                
                <!-- Pagination -->
                <div class="pagination" id="pagination">
                    <a href="#" class="pagination-item" data-page="prev"><i class="fas fa-chevron-left"></i></a>
                    <a href="#" class="pagination-item active" data-page="1">1</a>
                    <a href="#" class="pagination-item" data-page="2">2</a>
                    <a href="#" class="pagination-item" data-page="3">3</a>
                    <a href="#" class="pagination-item" data-page="next"><i class="fas fa-chevron-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalTitle">Add New Item</h2>
            <form id="itemForm"></form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h2>Confirm Delete</h2>
            <p>Are you sure you want to delete this item? This action cannot be undone.</p>
            <div class="modal-actions">
                <button id="confirmDelete" class="btn-danger">Delete</button>
                <button id="cancelDelete" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Batch Delete Confirmation Modal -->
    <div id="batchDeleteModal" class="modal">
        <div class="modal-content">
            <h2>Confirm Batch Delete</h2>
            <p>Are you sure you want to delete the selected items? This action cannot be undone.</p>
            <p id="batchDeleteCount"></p>
            <div class="modal-actions">
                <button id="confirmBatchDelete" class="btn-danger">Delete</button>
                <button id="cancelBatchDelete" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Settings</h2>
            <form id="settingsForm">
                <div class="form-group">
                    <label for="itemsPerPage">Items Per Page</label>
                    <select id="itemsPerPage" name="itemsPerPage">
                        <option value="8">8</option>
                        <option value="16" selected>16</option>
                        <option value="24">24</option>
                        <option value="32">32</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="theme">Theme</label>
                    <select id="theme" name="theme">
                        <option value="light" selected>Light</option>
                        <option value="dark">Dark</option>
                        <option value="auto">Auto (System)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="defaultView">Default View</label>
                    <select id="defaultView" name="defaultView">
                        <option value="grid" selected>Grid</option>
                        <option value="list">List</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <button type="submit" class="btn-primary">Save Settings</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification hidden">
        <span id="notificationMessage"></span>
        <button id="notificationClose" class="notification-close">&times;</button>
    </div>

    <!-- Loader -->
    <div id="loader" class="loader hidden">
        <div class="spinner"></div>
    </div>

    <!-- Scripts -->
    <script src="admin-backend-connector.js"></script>
    <script src="default-admin.js"></script>
    <script src="admin.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html> 