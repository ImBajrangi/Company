/* Cosmic Background Styles - Enhanced Version */
.cosmic-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -10;
  overflow: hidden;
  background: linear-gradient(to bottom, #0B0B22 0%, #080818 40%, #030311 70%, #000005 100%);
}

/* Enhanced Stars Layer with improved twinkling */
.stars-container {
  position: absolute;
  width: 100%;
  height: 100%;
  transform: translateZ(0);
}

.star {
  position: absolute;
  border-radius: 50%;
  opacity: 0;
  animation: twinkle var(--duration) ease-in-out infinite;
  animation-delay: var(--delay);
  background: radial-gradient(circle at center,
                              rgba(255, 255, 255, 1) 0%,
                              rgba(255, 255, 255, 0.9) 35%,
                              rgba(255, 255, 255, 0) 80%);
  box-shadow: 0 0 var(--glow-size) var(--glow-color);
}

/* Star with color variations */
.star.blue {
  box-shadow: 0 0 var(--glow-size) rgba(114, 186, 255, 0.9);
  background: radial-gradient(circle at center,
                              rgba(255, 255, 255, 1) 0%,
                              rgba(174, 213, 255, 0.9) 35%,
                              rgba(114, 186, 255, 0) 80%);
}

.star.yellow {
  box-shadow: 0 0 var(--glow-size) rgba(255, 218, 114, 0.9);
  background: radial-gradient(circle at center,
                              rgba(255, 255, 255, 1) 0%,
                              rgba(255, 238, 174, 0.9) 35%,
                              rgba(255, 218, 114, 0) 80%);
}

.star.red {
  box-shadow: 0 0 var(--glow-size) rgba(255, 114, 114, 0.9);
  background: radial-gradient(circle at center,
                              rgba(255, 255, 255, 1) 0%,
                              rgba(255, 174, 174, 0.9) 35%,
                              rgba(255, 114, 114, 0) 80%);
}

@keyframes twinkle {
  0%, 100% { opacity: 0.2; transform: scale(0.9); }
  50% { opacity: var(--opacity); transform: scale(1); }
}

/* Star cluster - groups of stars */
.star-cluster {
  position: absolute;
  width: var(--size);
  height: var(--size);
  opacity: 0.9;
}

/* Enhanced Nebula Layer */
.nebula {
  position: absolute;
  border-radius: 40% 60% 60% 40% / 40% 40% 60% 60%;
  background: radial-gradient(ellipse at center, var(--color1), var(--color2), transparent 70%);
  filter: blur(40px);
  opacity: 0.25;
  transform-origin: center;
  animation: nebula-drift 60s linear infinite;
  animation-delay: var(--delay);
  mix-blend-mode: screen;
}

@keyframes nebula-drift {
  0% { transform: rotate(0deg) translateX(0) scale(1); filter: hue-rotate(0deg); }
  50% { transform: rotate(180deg) translateX(50px) scale(1.15); filter: hue-rotate(30deg); }
  100% { transform: rotate(360deg) translateX(0) scale(1); filter: hue-rotate(0deg); }
}

/* Enhanced Galaxy Layer with spiral arms */
.galaxy {
  position: absolute;
  width: var(--size);
  height: var(--size);
  background: radial-gradient(
    ellipse at center,
    var(--core-color) 0%,
    transparent 60%
  );
  border-radius: 50%;
  filter: blur(2px);
  opacity: 0.7;
  transform-origin: center;
  animation: galaxy-rotate 80s linear infinite;
  animation-delay: var(--delay);
  box-shadow: 0 0 80px var(--glow);
}

.galaxy-arm {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  background: conic-gradient(
    transparent 0deg,
    var(--arm-color) 120deg,
    transparent 180deg,
    var(--arm-color) 300deg,
    transparent 360deg
  );
  border-radius: 50%;
  transform-origin: center;
  opacity: 0.3;
  filter: blur(10px);
  mix-blend-mode: screen;
}

@keyframes galaxy-rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Enhanced Planet Layer with realistic features */
.planet {
  position: absolute;
  width: var(--size);
  height: var(--size);
  border-radius: 50%;
  background: var(--gradient);
  box-shadow: inset -10px -10px 40px rgba(0, 0, 0, 0.7), 
              0 0 30px var(--glow);
  opacity: 0.85;
  animation: planet-orbit var(--orbit-time) linear infinite;
  animation-delay: var(--delay);
  transform-style: preserve-3d;
}

.planet::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: var(--surface-texture);
  opacity: 0.4;
  mix-blend-mode: overlay;
}

.planet-ring {
  position: absolute;
  width: 160%;
  height: 20px;
  top: 50%;
  left: -30%;
  border-radius: 50%;
  background: var(--ring-color);
  transform: translateY(-50%) rotateX(75deg);
  opacity: 0.7;
  box-shadow: 0 0 10px var(--ring-glow);
}

@keyframes planet-orbit {
  0% { 
    transform: translateX(var(--orbit-x-from)) translateY(var(--orbit-y-from)) rotate(0deg); 
  }
  50% { 
    transform: translateX(var(--orbit-x-to)) translateY(var(--orbit-y-to)) rotate(180deg); 
  }
  100% { 
    transform: translateX(var(--orbit-x-from)) translateY(var(--orbit-y-from)) rotate(360deg); 
  }
}

/* Comet with tail */
.comet {
  position: absolute;
  animation: comet-travel var(--travel-time) linear infinite;
  animation-delay: var(--delay);
  opacity: 0;
  z-index: 1;
}

.comet-head {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: white;
  box-shadow: 0 0 10px 4px rgba(255, 255, 255, 0.8);
}

.comet-tail {
  position: absolute;
  top: 0;
  left: 0;
  width: 100px;
  height: 2px;
  background: linear-gradient(to left, rgba(255, 255, 255, 0.8), transparent);
  transform-origin: left center;
  transform: translateX(2px);
}

@keyframes comet-travel {
  0% { 
    transform: translateX(-100px) translateY(var(--start-y)) rotate(var(--angle)); 
    opacity: 1;
  }
  90%, 100% { 
    transform: translateX(calc(100vw + 200px)) translateY(var(--end-y)) rotate(var(--angle)); 
    opacity: 1;
  }
}

/* Shooting Star - more realistic */
.shooting-star {
  position: absolute;
  transform: rotate(var(--angle));
  animation: shooting var(--duration) linear infinite;
  animation-delay: var(--delay);
  opacity: 0;
  overflow: visible;
}

.shooting-star-head {
  position: absolute;
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background: white;
  box-shadow: 0 0 15px 5px rgba(255, 255, 255, 0.8);
}

.shooting-star-tail {
  position: absolute;
  top: 1px;
  left: 2px;
  width: 80px;
  height: 1px;
  background: linear-gradient(to left, rgba(255, 255, 255, 0.8), transparent);
  transform-origin: left center;
}

@keyframes shooting {
  0% { 
    transform: translate(var(--start-x), var(--start-y)) rotate(var(--angle)); 
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  95% {
    opacity: 1;
  }
  100% { 
    transform: translate(var(--end-x), var(--end-y)) rotate(var(--angle)); 
    opacity: 0;
  }
}

/* Depth Layers for Parallax */
.cosmic-layer-1 { z-index: -15; }
.cosmic-layer-2 { z-index: -14; }
.cosmic-layer-3 { z-index: -13; }
.cosmic-layer-4 { z-index: -12; } 