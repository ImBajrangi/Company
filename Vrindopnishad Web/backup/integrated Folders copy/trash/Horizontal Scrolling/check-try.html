<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="check-try.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Infinite Scroll Animation</title>
  <style>
    /* Base styles */
    body {
      margin: 0;
      overflow-x: hidden; /* Hide horizontal overflow */
    }
    
    .scroll-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 200%; /* Double width for duplicated content */
      height: 100vh;
      will-change: transform; /* Optimize for animations */
    }
    
    .image-track {
      display: flex;
      height: 100vh;
    }
    
    .image-block {
      flex: 0 0 auto;
      width: 400px; /* Fixed width for each block */
      height: 100vh;
      margin-right: 50px; /* Spacing between blocks */
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .image-block img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
  </style>
</head>
<body>
  <!-- Fixed container for horizontal scrolling -->
  <div class="scroll-container">
    <!-- Duplicated image blocks for infinite effect -->
    <div class="image-track">
      <div class="image-block"><img src="./image/img1.jpg" alt="Image 1"></div>
      <div class="image-block"><img src="./image/img2.jpg" alt="Image 2"></div>
      <!-- Add more images as needed -->
      <!-- Duplicate the same set of images -->
      <div class="image-block"><img src="./image/img1.jpg" alt="Image 1"></div>
      <div class="image-block"><img src="./image/img2.jpg" alt="Image 2"></div>
      <!-- Duplicated images -->
    </div>
  </div>

  <!-- Spacer to enable vertical scrolling -->
  <div class="scroll-spacer" style="height: 200vh"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const imageTrack = document.querySelector('.image-track');
      const scrollSpacer = document.querySelector('.scroll-spacer');
      let currentPos = 0;
      let totalWidth = 0;
    
      // Calculate total width of unique images (before duplication)
      document.querySelectorAll('.image-block').forEach((block, index) => {
        if (index < imageTrack.children.length / 2) {
          totalWidth += block.offsetWidth + parseInt(getComputedStyle(block).marginRight);
        }
      });
    
      // Set spacer height based on content width
      scrollSpacer.style.height = `${totalWidth * 1.5}px`;
    
      // Scroll handler
      let raf;
      window.addEventListener('scroll', () => {
        if (raf) cancelAnimationFrame(raf);
        raf = requestAnimationFrame(() => {
          const scrollY = window.scrollY;
          const maxScroll = scrollSpacer.offsetHeight - window.innerHeight;
          const progress = scrollY / maxScroll;
          
          // Calculate horizontal translation
          const translateX = progress * totalWidth * 2; // Multiply by 2 for duplicated content
          
          // Reset position for infinite loop
          if (translateX >= totalWidth) {
            currentPos = translateX - totalWidth;
          } else {
            currentPos = translateX;
          }
          
          imageTrack.style.transform = `translateX(-${currentPos}px)`;
        });
      });
    
      // Initialize position
      window.dispatchEvent(new Event('scroll'));
    });
  </script>
  <script src="check-try.js"></script>
</body>
</html>